<section class="register-section">
  <div class="register-container">
  <form class="register_form needs-validation" [formGroup]="form" (ngSubmit)="register()">
    <h2>Registrarse</h2>
    <div class="mb-3 datos">
      <label for="nombretxt" class="form-label">Nombre</label>
        <input type="text" class="form-control" formControlName="name" id="nombretxt"
        [ngClass]="{'is-invalid': form.get('name')?.dirty && form.get('name')?.hasError('required')||form.get('name')?.hasError('pattern')}" 
        required/>
      <div id="validationServerNameFeedback" class="invalid-feedback"> 
       <p *ngIf="form.get('name')?.hasError('required')"> Debe digitar un nombre</p>
       <p *ngIf="form.get('name')?.hasError('pattern')"> Este campo sólo admite letras</p>
      </div>
    </div>
    <div class="mb-3 datos">
      <label for="correotxt" class="form-label">Correo</label>
      <input type="text" class="form-control " formControlName="email" id="correo" 
      [ngClass]="{'is-invalid': form.get('email')?.dirty && form.get('email')?.hasError('required') || form.get('email')?.hasError('email')}" required>
      <div id="validationServerEmailFeedback" class="invalid-feedback"> 
        Debe digitar un correo valido
      </div>
    </div>
    <div class="mb-3 datos">
      <label for="usuariotxt" class="form-label">Usuario</label>
      <input type="text" class="form-control" formControlName="user" id="usuario" 
      [ngClass]="{'is-invalid': form.get('user')?.dirty && form.get('user')?.hasError('required')}" required>
      <div id="validationServerUsernameFeedback" class="invalid-feedback"> 
        Debe digitar un usuario
      </div>
    </div>
    <div class="mb-3 datos">
      <label for="passwordtxt" class="form-label">Contraseña</label>
      <input type="password" class="form-control" id="passwordtxt"  formControlName="password" 
       [ngClass]="{'is-invalid': form.get('password')?.dirty && form.get('password')?.hasError('required')}" required >
      <div id="validationServerPasswordFeedback" class="invalid-feedback"> 
        Debe digitar una contraseña
      </div>
    </div>
    <div class="alert alert-secondary" role="alert" *ngIf="successRegister">
      Datos registrados con éxito!
    </div>
    <div class="alert alert-danger" role="alert" *ngIf="registerError">
      <strong>Error! </strong> {{message}}
     </div>
    <button type="submit" class="btn btnEnviar" [disabled]="form.invalid">Registrarme</button>
  </form>
</div>
</section>

